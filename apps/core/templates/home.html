<!-- Extends the base template -->
{% extends 'base.html' %}
 
<!-- Template title -->
{% block title%} Home {% endblock %}
 
<!-- Template content -->
{% block content %}

   <!-- Homepage title -->
   <h1 class="title"> Welcome to E-store </h1>

   <h2 class="subtitle has-text-centered">Featured products</h2>

   <!-- displays products in a list using the products list template -->
   {% with products as list_products %}
         {% include 'parts/product_list.html' %}
   {% endwith %}

   <hr>

    <div class="featured-categories">
        {% for category in featured_categories %}
            <h2 class="subtitle has-text-centered">{{ category.title }}</h2>

            {% with category.products.all|slice:":4" as list_products %}
                {% include 'parts/product_list.html' %}
            {% endwith %}    
        {% endfor %}
    </div>
    
    <h2 class="subtitle has-text-centered">Popular products</h2>

    {% with popular_products as list_products %}
        {% include 'parts/product_list.html' %}
    {% endwith %} 

    <h2 class="subtitle has-text-centered">Recently viewed products</h2>

    {% with recently_viewed_products as list_products %}
        {% include 'parts/product_list.html' %}
    {% endwith %}  

{% endblock %}
